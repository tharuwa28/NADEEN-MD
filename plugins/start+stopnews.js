const _0x46d892=_0x2c6d;(function(_0x57d806,_0xc975cc){const _0x4bc6e3=_0x2c6d,_0x1b4ad7=_0x57d806();while(!![]){try{const _0x81eec8=-parseInt(_0x4bc6e3(0x156))/0x1+parseInt(_0x4bc6e3(0x137))/0x2+-parseInt(_0x4bc6e3(0x153))/0x3+-parseInt(_0x4bc6e3(0x13f))/0x4+parseInt(_0x4bc6e3(0x14b))/0x5+parseInt(_0x4bc6e3(0x159))/0x6+parseInt(_0x4bc6e3(0x136))/0x7*(parseInt(_0x4bc6e3(0x141))/0x8);if(_0x81eec8===_0xc975cc)break;else _0x1b4ad7['push'](_0x1b4ad7['shift']());}catch(_0x221bab){_0x1b4ad7['push'](_0x1b4ad7['shift']());}}}(_0x1dfe,0x1d6bc));function _0x2c6d(_0x56b444,_0x4a3022){const _0x1dfe0b=_0x1dfe();return _0x2c6d=function(_0x2c6d1c,_0x36de50){_0x2c6d1c=_0x2c6d1c-0x12f;let _0x41a822=_0x1dfe0b[_0x2c6d1c];return _0x41a822;},_0x2c6d(_0x56b444,_0x4a3022);}const {cmd}=require(_0x46d892(0x155)),Hiru=require('hirunews-scrap'),Esana=require(_0x46d892(0x131)),axios=require('axios'),config=require('../config');let activeGroups={},lastNewsTitles={};async function getLatestNews(){const _0x2478ac=_0x46d892;let _0xb9b486=[];try{const _0x5b2df4=new Hiru(),_0x413296=await _0x5b2df4['BreakingNews']();_0xb9b486[_0x2478ac(0x139)]({'title':_0x413296['results']['title'],'content':_0x413296[_0x2478ac(0x146)][_0x2478ac(0x133)],'date':_0x413296[_0x2478ac(0x146)][_0x2478ac(0x142)]});}catch(_0x142dab){console[_0x2478ac(0x154)](_0x2478ac(0x152)+_0x142dab[_0x2478ac(0x13e)]);}try{const _0x3f837f=new Esana(),_0xfdf3dd=await _0x3f837f['getLatestNews']();_0xfdf3dd&&_0xfdf3dd[_0x2478ac(0x14a)]&&_0xfdf3dd[_0x2478ac(0x145)]&&_0xfdf3dd[_0x2478ac(0x13d)]?_0xb9b486['push']({'title':_0xfdf3dd[_0x2478ac(0x14a)],'content':_0xfdf3dd[_0x2478ac(0x145)],'date':_0xfdf3dd[_0x2478ac(0x13d)]}):console[_0x2478ac(0x154)](_0x2478ac(0x14d));}catch(_0x47b1c5){console[_0x2478ac(0x154)](_0x2478ac(0x148)+_0x47b1c5[_0x2478ac(0x13e)]);}return _0xb9b486;}async function checkAndPostNews(_0x3d9586,_0x1a158e){const _0x1f4114=_0x46d892,_0x2acae7=await getLatestNews();_0x2acae7[_0x1f4114(0x14f)](async _0x1d2e74=>{const _0x34179d=_0x1f4114;!lastNewsTitles[_0x1a158e]&&(lastNewsTitles[_0x1a158e]=[]),!lastNewsTitles[_0x1a158e][_0x34179d(0x13b)](_0x1d2e74['title'])&&(await _0x3d9586[_0x34179d(0x138)](_0x1a158e,{'text':'*ðŸ”µðð„ð–ð’\x20ð€ð‹ð„ð‘ð“!*\x0aâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\x0a\x0a\x0aðŸ“°\x20*'+_0x1d2e74[_0x34179d(0x14a)]+'*\x0a'+_0x1d2e74[_0x34179d(0x158)]+'\x0a\x0a'+_0x1d2e74[_0x34179d(0x142)]+_0x34179d(0x130)}),lastNewsTitles[_0x1a158e][_0x34179d(0x139)](_0x1d2e74['title']),lastNewsTitles[_0x1a158e]['length']>0x64&&lastNewsTitles[_0x1a158e]['shift']());});}function _0x1dfe(){const _0x4d508e=['jid','sender','description','results','stopnews','Error\x20fetching\x20Esana\x20News:\x20','Failed\x20to\x20deactivate\x20the\x20news\x20service.','title','113610gUqoik','user','Error:\x20Esana\x20News\x20returned\x20invalid\x20data.','admin','forEach','Error\x20in\x20news\x20command:\x20','ðŸ‡±ðŸ‡°\x20Auto\x2024/7\x20News\x20Activated.\x0a\x0a>\x20Â©ð—¡ð—”ð——ð—˜ð—˜ð—¡\x20ð— ð——','Error\x20fetching\x20Hiru\x20News:\x20','482775EkSimf','error','../command','47156WAHKkU','ðŸš«\x20This\x20command\x20can\x20only\x20be\x20used\x20by\x20group\x20admins\x20or\x20the\x20bot\x20owner.','content','669102IoGyQG','Failed\x20to\x20activate\x20the\x20news\x20service.','\x0a\x0a>\x20*Â©á´˜á´á´¡á´‡Ê€á´‡á´…\x20Ê™Ê\x20É´á´€á´…á´‡á´‡É´\x20á´˜á´á´Ê€É´á´€*\x0a>\x20*ð—¡ð—”ð——ð—˜ð—˜ð—¡\x20-\x20ð— ð——*','@sl-code-lords/esana-news','This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups.','news','Disable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','ðŸ›‘\x2024/7\x20News\x20is\x20not\x20active\x20in\x20this\x20group.\x0a\x0a>\x20Â©ð—¡ð—”ð——ð—˜ð—˜ð—¡\x20ð— ð——','7xSToOF','400588sPOCjf','sendMessage','push','interval','includes','Enable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','publishedAt','message','367172gpADwD','*âœ…\x2024/7\x20News\x20Already\x20Activated.*\x0a\x0a>\x20Â©ð—¡ð—”ð——ð—˜ð—˜ð—¡\x20ð— ð——','686792nqiWHu','date'];_0x1dfe=function(){return _0x4d508e;};return _0x1dfe();}cmd({'pattern':'startnews','desc':_0x46d892(0x13c),'isGroup':!![],'react':'ðŸ“°','filename':__filename},async(_0x13932f,_0x4e8516,_0x13e160,{from:_0x223316,isGroup:_0x8c0bf8,participants:_0xefd46a})=>{const _0x1665aa=_0x46d892;try{if(_0x8c0bf8){const _0x25f0ba=_0xefd46a['some'](_0x39d496=>_0x39d496['id']===_0x4e8516['sender']&&_0x39d496[_0x1665aa(0x14e)]),_0xbf4159=_0x4e8516[_0x1665aa(0x144)]===_0x13932f['user'][_0x1665aa(0x143)];_0x25f0ba||_0xbf4159?!activeGroups[_0x223316]?(activeGroups[_0x223316]=!![],await _0x13932f[_0x1665aa(0x138)](_0x223316,{'text':_0x1665aa(0x151)}),!activeGroups[_0x1665aa(0x13a)]&&(activeGroups[_0x1665aa(0x13a)]=setInterval(async()=>{const _0x3a022b=_0x1665aa;for(const _0x522de7 in activeGroups){activeGroups[_0x522de7]&&_0x522de7!==_0x3a022b(0x13a)&&await checkAndPostNews(_0x13932f,_0x522de7);}},0xea60))):await _0x13932f[_0x1665aa(0x138)](_0x223316,{'text':_0x1665aa(0x140)}):await _0x13932f[_0x1665aa(0x138)](_0x223316,{'text':_0x1665aa(0x157)});}else await _0x13932f['sendMessage'](_0x223316,{'text':'This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups.'});}catch(_0xf3e8e9){console['error'](_0x1665aa(0x150)+_0xf3e8e9['message']),await _0x13932f[_0x1665aa(0x138)](_0x223316,{'text':_0x1665aa(0x12f)});}}),cmd({'pattern':_0x46d892(0x147),'desc':_0x46d892(0x134),'isGroup':!![],'react':'ðŸ›‘','filename':__filename},async(_0x2c51a8,_0x2bcd69,_0x10bed8,{from:_0x11ca53,isGroup:_0x5db79c,participants:_0x573015})=>{const _0x3611df=_0x46d892;try{if(_0x5db79c){const _0x550b1b=_0x573015['some'](_0x114c4d=>_0x114c4d['id']===_0x2bcd69[_0x3611df(0x144)]&&_0x114c4d['admin']),_0x5aa2bd=_0x2bcd69[_0x3611df(0x144)]===_0x2c51a8[_0x3611df(0x14c)][_0x3611df(0x143)];_0x550b1b||_0x5aa2bd?activeGroups[_0x11ca53]?(delete activeGroups[_0x11ca53],await _0x2c51a8[_0x3611df(0x138)](_0x11ca53,{'text':'*ðŸš«\x20Disable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group*'}),Object['keys'](activeGroups)['length']===0x1&&activeGroups[_0x3611df(0x13a)]&&(clearInterval(activeGroups['interval']),delete activeGroups[_0x3611df(0x13a)])):await _0x2c51a8[_0x3611df(0x138)](_0x11ca53,{'text':_0x3611df(0x135)}):await _0x2c51a8[_0x3611df(0x138)](_0x11ca53,{'text':_0x3611df(0x157)});}else await _0x2c51a8[_0x3611df(0x138)](_0x11ca53,{'text':_0x3611df(0x132)});}catch(_0x163645){console[_0x3611df(0x154)](_0x3611df(0x150)+_0x163645[_0x3611df(0x13e)]),await _0x2c51a8[_0x3611df(0x138)](_0x11ca53,{'text':_0x3611df(0x149)});}});
